<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>{{ article.title }}</title>
    <link rel="canonical" href="/"/>
    <meta name="referrer" content="no-referrer-when-downgrade"/>
    <meta property="og:site_name" content="Leetme"/>
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="{{ article.title}}"/>
    <meta property="og:description"
          content="{{article.summary}}"/>
    <meta property="article:published_time" content="{{ article.create_time }}"/>
    <meta property="article:modified_time" content="{{ article.create_time }}"/>


    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "alex",
        "logo": "https://image.baidu.com/search/detail?ct=503316480&z=0&ipn=d&word=%E5%A4%9C%E7%A9%BA&step_word=&hs=2&pn=6&spn=0&di=103921970810&pi=0&rn=1&tn=baiduimagedetail&is=0%2C0&istype=0&ie=utf-8&oe=utf-8&in=&cl=2&lm=-1&st=undefined&cs=2912505346%2C2939070694&os=1339286860%2C865622434&simid=0%2C0&adpicid=0&lpn=0&ln=1986&fr=&fmq=1508834098048_R&fm=&ic=undefined&s=undefined&se=&sme=&tab=0&width=undefined&height=undefined&face=undefined&ist=&jit=&cg=&bdtype=13&oriquery=&objurl=http%3A%2F%2Fimgsrc.baidu.com%2Fimage%2Fc0%3Dshijue1%2C0%2C0%2C294%2C40%2Fsign%3Dd412b33bb3389b502cf2e811ed5c8fa8%2F4ec2d5628535e5dd05d20cfa7cc6a7efce1b621d.jpg&fromurl=ipprf_z2C%24qAzdH3FAzdH3Fooo_z%26e3Bev2_z%26e3Bv54AzdH3Fv6jwptejAzdH3F8aaaacd8ab&gsm=0&rpstart=0&rpnum=0"
    },
    "author": {
        "@type": "Person",
        "name": "alex",
        "url": "http://www.baidu.com",
        "sameAs": []
    },
    "headline": "",
    "url": "",
    "datePublished": "",
    "dateModified": "",
    "description": "",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": ""
    }
}

    </script>

    <script type="text/javascript" src="/static/article_content/ghost-url.min.js"></script>
    <script type="text/javascript">
        ghost.init({
            clientId: "ghost-frontend",
            clientSecret: "f6a727267c20"
        });
    </script>
    <meta name="generator" content="Ghost 0.11"/>

    <script>
        var open_button = '.nav-blog > a'
        var profile_resume = 'Software Engineer';
        var posts_headline = '';
    </script>
    <link rel="stylesheet" href="/static/font-awesome-4.7.0/css/font-awesome.min.css">
    <!--<link rel="stylesheet" href="https://oc8prtequ.qnssl.com/assets/css/theme.css">-->
    <link rel="stylesheet" href="/static/article_content/theme.css">

</head>
<body>
<input id="article_id" style="display: none" value={{article.nid}}>

<div class="row page post">
    <div class="slidenav">
        <aside id="menu" class="blue-grey darken-1" style="background-image:url(/static/imgs/header_background/ship.jpg);">
            <div class="bg-container">
                <div class="profile">
                    <div class="avatar">
                        <a href="/"><img src="/static/imgs/avatar_img/Siamese.png" class="z-depth-4"></a>
                        <span>{{blog.title}}</span>
                        <p>我秃了，也变强了</p>
                    </div>
                    <div class="short-line"></div>
                    <ul class="nav">
                        <li class="nav-blog" role="presentation"><a href="http://127.0.0.1:8000/Blog/lichungang.html">Blog</a></li>
                        <!--<li class="nav-about" role="presentation"><a href="https://www.ldsun.com/about">About</a></li>-->
                        <!--<li class="nav-archives" role="presentation"><a href="https://www.ldsun.com/archives-post">Archives</a>-->
                        <!--</li>-->
                    </ul>
                    <div class="short-line short"></div>
                    <ul class="link">
                        <li><a href="http://weibo.com/"><i class="fa fa-weibo"></i></a></li>
                        <li><a href="https://github.com/"><i class="fa fa-github"></i></a></li>
                        <li><a href=""><i class="fa fa-envelope"></i></a></li>
                    </ul>
                </div>
            </div>
        </aside>
        <div class="closeslide"></div>
    </div>

    <main>
        <nav>
            <header class="nav-wrapper blue-grey">
                <div>
                    <a id="show-slide-nav"><i class="fa fa-bars fa-lg"></i></a>
                    <p>
                        <span class="header-title">天不生我李连明，千古剑道如长夜!</span>
                        <!--标题-->
                        <span class="post-title">{{ article.title }}</span>
                    </p>
                    <span></span>
                </div>
            </header>
        </nav>

        <div class="contents content-in z-depth-2">

            <article class="posts-content markdown-body">
                <!--标题-->
                <p class="posts-title">{{ article.title }}</p>
                <!--时间标签-->
                <span class="post-time"><i class="fa fa-calendar"></i>{{ article.create_time }}</span>
                <div class="post-html">
                    <!--代码输入-->
                    {{content|safe}}
                    <pre><code class="language-python">
                        for i in war:
                            print(i)
                    </code></pre>
                    <p>github：<a href="https://github.com/flute/webpack_vue2_express_mongodb_backend">https://github.com/flute/webpack<em>vue2</em>express<em>mongodb</em>backend</a>
                    </p>

                    <p>参考资料：<a href="http://www.ruanyifeng.com/blog/2016/04/cors.html">http://www.ruanyifeng.com/blog/2016/04/cors.html</a>
                    </p>
                </div>
            </article>
        </div>


        <div id="comment" class="content-in z-depth-4">

        </div>

        <div class="content-in" style="margin-top: 50px;">
            <footer class="site-footer clearfix ">
                <section class="copyright">
                    <a href="/" target="_blank">LeetMe</a> © 2999
                </section>
                <section class="poweredby ">
                    Powered by <a href="https://ghost.org/" target="_blank">Ghost</a> | Theme <a
                        href="https://github.com/flute/skywalker">SkyWalker </a>
                </section>
                <section>
                    <a href="//www.miitbeian.gov.cn/" target="_blank">京ICP备XXXXXX号</a>
                </section>
            </footer>
        </div>
    </main>
    {% csrf_token %}
</div>

<meta property="og:site_name" content="alex"/>
<meta property="og:type" content="article"/>
<meta property="og:title" content="{{article.title}}"/>
<meta property="og:description"
      content="{{article.summary}}"/>
<meta property="og:url" content="/"/>
<script src="/static/jquery-3.2.1.js"></script>
<script>
    String.prototype.Format = function (arg) {
        /*字符串格式化*/
        tmp = this.replace(/\{(\w+)\}/,function (val,key) {
            return arg[key];
        });
        return tmp;
    };
    function commentTree(commentList) {
        //前端处理数据生成评论
        var commentStr = "<div class='fa-comment'>";
        $.each(commentList,function (key, value) {
            var temp = "<div class='content'>{content}</div>".Format({content:value.content});
            commentStr += temp;
            if (value.child.length>0){
                commentStr += commentTree(value.child);
            }

        });
        commentStr += "</div>";
        return commentStr
    }

    $(function(){
        //获取所有评论信息
        art_id = $("#article_id").val();

        csrf_val =$('input[name="csrfmiddlewaretoken"]').val();
        $.ajax({
            url:"/Blog/article-comment",
            type:'POST',
            dateType:'JSON',
            data:{
                'article_id':art_id,
                'csrfmiddlewaretoken':csrf_val,
            },
            success:function(arg) {
                console.log(arg);
                $("#comment").html(arg)
            }
        })
    })
</script>
<script src="/static/article_content/zepto.min.js"></script>
<script src="/static/article_content/highlight.min.js"></script>
<script src="/static/article_content/skywalker.js"></script>

</body>
</html>
